{% extends "base.html" %}
{% load static %}

{% block head %}
    <h3>Explore</h3>
{% endblock head %}

{% block body %}
    <p>'world map'</p>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <button onClick='resetMarkers()'>Reset markers</button>
    <button onClick='sendMarkers()'>Save Destinations</button>
    <div id="error-no-dest" style="display:none; color: red; margin: 10px 0;">
        You have not selected a destination.
    </div>
    <div id="error-no-stations" style="display:none; color: red; margin: 10px 0;">
        Sorry, one of your selected locations has no valid weather stations nearby.
    </div>
    <div id="saving-indicator" style="display: none; color: blue; font-weight: bold; margin-top: 10px;">
        Saving...
    </div>
      

    <div id='map' style='height: 600px; width: 900px;'></div>
    {{ destinations|json_script:'destinations_json' }}

    <script src="{% static 'explore/world_map.js' %}"></script>
{% endblock body %}